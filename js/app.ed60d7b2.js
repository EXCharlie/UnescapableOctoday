(function(){"use strict";var e={3891:function(e,t,n){var l=n(5130),i=n(6768),o=n(4232),a=n(144);const r={class:"video-background-container"},s=15,c=20,u=.1;var v={__name:"TitleSection",setup(e){const t=(0,a.KR)(null),n=(0,a.KR)(null),l=(0,a.KR)(null),v=(0,a.KR)(0),f=(0,a.KR)(0),d=(0,a.KR)(20),p=(0,a.KR)("50%"),h=()=>{if(!t.value||!l.value)return;const e=t.value,n=l.value,i=e.getBoundingClientRect(),o=e.offsetHeight,a=n.offsetHeight,r=-i.top,h=Math.min(r/(.75*o),1);v.value=h*s;const m=o*u,k=Math.max(0,Math.min(r/m,1));let y;if(f.value=k,d.value=(1-k)*c,d.value<.1&&(d.value=0),f.value>.99&&(f.value=1),r<=0){const e=.5*o-.5*a;y=e+"px"}else{const e=.5*o-.5*a,t=e+r,n=o-a;y=Math.min(t,n)+"px"}p.value=y};return(0,i.sV)((()=>{(0,i.dY)((()=>{window.addEventListener("scroll",h),h(),n.value&&n.value.play().catch((e=>{console.warn("Video autoplay was prevented:",e)}))}))})),(0,i.hi)((()=>{window.removeEventListener("scroll",h)})),(e,a)=>((0,i.uX)(),(0,i.CE)("section",{class:"section title-section",ref_key:"titleSectionRef",ref:t},[(0,i.Lk)("div",r,[(0,i.Lk)("video",{ref_key:"backgroundVideo",ref:n,src:"/video/background.mp4",autoplay:"",loop:"",muted:"",playsinline:"",class:"background-video"},null,512),(0,i.Lk)("div",{class:"video-blur-overlay",style:(0,o.Tr)({backdropFilter:`blur(${v.value}px)`})},null,4)]),(0,i.Lk)("div",{class:"title-content",ref_key:"titleContentRef",ref:l,style:(0,o.Tr)({top:p.value,opacity:f.value,filter:`blur(${d.value}px)`,pointerEvents:f.value>.05?"auto":"none"})},a[0]||(a[0]=[(0,i.Lk)("h1",{class:"main-title"},[(0,i.Lk)("span",{class:"font-light"},"无法逃离的"),(0,i.Lk)("span",{class:"font-bold"},"星期八")],-1)]),4)],512))}},f=n(1241);const d=(0,f.A)(v,[["__scopeId","data-v-3b3ca26d"]]);var p=d,h=(n(8111),n(2489),n(7588),{__name:"ProductionSection",setup(e){const t=(0,a.KR)(null),n=(0,a.KR)(null),l=(0,a.KR)(null);let o=null,r=!1;const s=()=>{r=!1;const e=t.value,i=n.value,a=l.value;if(!e||!i||!a)return void(o=null);const s=e.getBoundingClientRect(),c=a.getBoundingClientRect(),u=window.innerHeight,v=u/2,f=.8*u,d=.2*u,p=s.top;let h=0;p>=f?h=0:p<=d?h=1:(h=(f-p)/(f-d),h=Math.max(0,Math.min(h,1)));const m=h,k=50*(1-h),y=5*(1-h),g=[i,a];g.forEach((e=>{e.style.transition="none",e.style.opacity=m,e.style.transform=`translateY(${k}px)`,e.style.filter=`blur(${y}px)`}));const w=c.top+c.height/2,b=Math.abs(w-v),L=250;let _=0;if(b>=L?_=0:(_=1-b/L,_=Math.max(0,Math.min(_,1))),_>0){const e=.8*_,t=`rgba(255, 255, 255, ${e})`;a.style.textShadow=`0 0 10px ${t}, 0 0 20px ${t}, 0 0 30px ${t}`}else a.style.textShadow="none";o=null},c=()=>{r||(r=!0,o=requestAnimationFrame(s))};return(0,i.sV)((()=>{window.addEventListener("scroll",c,{passive:!0}),requestAnimationFrame((()=>{s()}))})),(0,i.hi)((()=>{window.removeEventListener("scroll",c),null!==o&&(cancelAnimationFrame(o),o=null,r=!1);const e=[n.value,l.value].filter((e=>null!==e));e.forEach((e=>{e&&(e.style.opacity="",e.style.transform="",e.style.filter="",e.style.transition="")})),l.value&&(l.value.style.textShadow="")})),(e,o)=>((0,i.uX)(),(0,i.CE)("section",{class:"section production-section",ref_key:"productionSectionRef",ref:t},[(0,i.Lk)("h2",{class:"section-title",ref_key:"titleRef",ref:n},"制作单位",512),(0,i.Lk)("p",{class:"production-team content-text",ref_key:"teamNameRef",ref:l},"高二8班（2026届）",512)],512))}});const m=(0,f.A)(h,[["__scopeId","data-v-06b2f3d7"]]);var k=m;n(1701);const y={class:"section-title story-main-title"},g={class:"story-content"},w="周六放学的铃声响起，少年顾醒却发现自己被困在无限循环的教学楼中。他经历了作业被毁、求助无门、目睹霸凌等困境。当最终与被霸凌者产生共情时，顾醒在记忆闪回中发现自己也曾是施暴者。这场时空牢笼成为他直面内心、完成救赎的契机。";var b={__name:"StorySection",setup(e){const t=(0,a.KR)([]),n=(0,a.KR)(null),l=(0,a.KR)([]),r=(0,a.KR)(-1);let s=null,c=null,u=!1;const v=()=>{t.value=w.match(/[^。？！]+[。？！]?\s*/g)||[],t.value=t.value.map((e=>e.trim())),l.value=new Array(t.value.length).fill(null)},f=()=>{u=!1;const e=n.value,t=l.value;if(!e||0===t.length)return void(c=null);const i=e.getBoundingClientRect(),o=window.innerHeight,a=o/2;if(i.bottom<0||i.top>o)return r.value=-1,void(c=null);let s=-1,v=1/0;t.forEach(((e,t)=>{if(!e)return;const n=e.getBoundingClientRect(),l=n.top+n.height/2,i=Math.abs(l-a);n.bottom>0&&n.top<o&&i<v&&(v=i,s=t)})),r.value=s,c=null},d=()=>{u||(u=!0,c=requestAnimationFrame(f))};return(0,i.sV)((()=>{v(),(0,i.dY)().then((()=>{const e={root:null,rootMargin:"0px",threshold:0};s=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?(window.addEventListener("scroll",d,{passive:!0}),d()):(window.removeEventListener("scroll",d),null!==c&&(cancelAnimationFrame(c),c=null,u=!1),r.value=-1)}))}),e),n.value&&s.observe(n.value)}))})),(0,i.hi)((()=>{s&&n.value&&s.unobserve(n.value),s=null,window.removeEventListener("scroll",d),null!==c&&(cancelAnimationFrame(c),c=null,u=!1)})),(e,a)=>{const s=(0,i.gN)("fade-in");return(0,i.uX)(),(0,i.CE)("section",{class:"section story-section",ref_key:"storySectionRef",ref:n},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("h2",y,a[0]||(a[0]=[(0,i.eW)("故事简介")]))),[[s]]),(0,i.Lk)("div",g,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.value,((e,t)=>((0,i.uX)(),(0,i.CE)("div",{key:t,ref_for:!0,ref:e=>{e&&(l.value[t]=e)},class:(0,o.C4)(["story-sentence",{highlighted:t===r.value}])},(0,o.v_)(e),3)))),128))])],512)}}};const L=(0,f.A)(b,[["__scopeId","data-v-67b75b20"]]);var _=L;const R={class:"link-items-container"},x={class:"link-item-row"},E={class:"link-item-row"};var C={__name:"LinkSection",setup(e){const t=(0,a.KR)(null),n=(0,a.KR)(null),l=(0,a.KR)(null),o=(0,a.KR)(null),r=(0,a.KR)(null),s=(0,a.KR)(null);let c=null,u=!1;const v=()=>{u=!1;const e=t.value,i=[n.value,l.value,o.value,r.value,s.value].filter((e=>null!=e));if(!e||0===i.length)return void(c=null);const a=e.getBoundingClientRect(),v=window.innerHeight,f=.8*v,d=.2*v,p=a.top;let h=0;p>=f?h=0:p<=d?h=1:(h=(f-p)/(f-d),h=Math.max(0,Math.min(1,h)));const m=h,k=50*(1-h),y=5*(1-h);i.forEach((e=>{e.style.transition="none",e.style.opacity=m,e.style.transform=`translateY(${k}px)`,e.style.filter=`blur(${y}px)`})),c=null},f=()=>{u||(u=!0,c=requestAnimationFrame(v))};return(0,i.sV)((()=>{window.addEventListener("scroll",f,{passive:!0}),requestAnimationFrame((()=>{v()}))})),(0,i.hi)((()=>{window.removeEventListener("scroll",f),null!==c&&(cancelAnimationFrame(c),c=null,u=!1);const e=[n.value,l.value,o.value,r.value,s.value].filter((e=>null!=e));e.forEach((e=>{e&&(e.style.opacity="",e.style.transform="",e.style.filter="",e.style.transition="")}))})),(e,a)=>((0,i.uX)(),(0,i.CE)("section",{class:"section link-section",ref_key:"linkSectionRef",ref:t},[(0,i.Lk)("h2",{class:"section-title link-main-title",ref_key:"titleRef",ref:n},a[0]||(a[0]=[(0,i.Lk)("span",{class:"title-part light"},"无法逃离的",-1),(0,i.Lk)("span",{class:"title-part bold"},"星期八",-1)]),512),(0,i.Lk)("div",R,[(0,i.Lk)("div",x,[(0,i.Lk)("p",{class:"item-description content-text",ref_key:"descriptionRef1",ref:l}," 无法逃离的星期八微视频 ",512),(0,i.Lk)("a",{href:"https://www.bilibili.com/video/BV14iR4YvE9t",target:"_blank",class:"action-link play-link","aria-label":"播放微视频",ref_key:"playLinkRef",ref:o},a[1]||(a[1]=[(0,i.Lk)("svg",{class:"action-icon play-icon",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[(0,i.Lk)("path",{d:"M8 5V19L19 12L8 5Z"})],-1),(0,i.Lk)("span",{class:"action-text"},"立即播放",-1)]),512)]),(0,i.Lk)("div",E,[(0,i.Lk)("p",{class:"item-description content-text",ref_key:"descriptionRef2",ref:r}," 无法逃离的星期八互动游戏 ",512),(0,i.Lk)("a",{href:"https://excharlie.github.io/interactive_game/",target:"_blank",class:"action-link game-link","aria-label":"立即跳转到互动游戏",ref_key:"gameLinkRef",ref:s},a[2]||(a[2]=[(0,i.Lk)("svg",{class:"action-icon game-icon",viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},[(0,i.Lk)("path",{d:"M18 13V19C18 19.5523 17.5523 20 17 20H5C4.44772 20 4 19.5523 4 19V7C4 6.44772 4.44772 6 5 6H11M15 4H20V9M20 4L11 13"})],-1),(0,i.Lk)("span",{class:"action-text"},"立即跳转",-1)]),512)])])],512))}};const K=(0,f.A)(C,[["__scopeId","data-v-c97866d8"]]);var M=K;const A={id:"app-container"};var F={__name:"App",setup(e){return(e,t)=>((0,i.uX)(),(0,i.CE)("div",A,[(0,i.bF)(p,{id:"title-section"}),(0,i.bF)(k,{id:"production-section"}),(0,i.bF)(_,{id:"story-section"}),(0,i.bF)(M,{id:"link-section"})]))}};const O=(0,f.A)(F,[["__scopeId","data-v-5e2f63e4"]]);var S=O;const V=(0,l.Ef)(S);V.mount("#app")}},t={};function n(l){var i=t[l];if(void 0!==i)return i.exports;var o=t[l]={exports:{}};return e[l].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,l,i,o){if(!l){var a=1/0;for(u=0;u<e.length;u++){l=e[u][0],i=e[u][1],o=e[u][2];for(var r=!0,s=0;s<l.length;s++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](l[s])}))?l.splice(s--,1):(r=!1,o<a&&(a=o));if(r){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[l,i,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var i,o,a=l[0],r=l[1],s=l[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(s)var u=s(n)}for(t&&t(l);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},l=self["webpackChunkcharlie"]=self["webpackChunkcharlie"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=n.O(void 0,[504],(function(){return n(3891)}));l=n.O(l)})();
//# sourceMappingURL=app.ed60d7b2.js.map